# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [2.0.0] - 2026-02-06

### 🚀 重大重构 | Major Refactor

**架构升级为 Stage-Based 执行流程**：

本版本对整个 Skill Prompt 进行了专业级架构优化，显著提升稳定性、可执行性和防跑偏能力。

#### 核心改进 | Core Improvements

**Stage-Based 执行流程**：
- ✅ 引入 7 个明确的执行阶段（Stage 0-7）
- ✅ 每个 Stage 有清晰的输入、输出、自检机制
- ✅ Stage 间依赖关系明确，执行顺序严格
- ✅ 每个 Stage 结束前强制自检，失败则重新执行

**自检机制（Self-Check）**：
- ✅ 每个 Stage 结束前必须回答 4 个自检问题
- ✅ 输出格式符合性检查
- ✅ 数据准确性验证
- ✅ 异常情况识别

**强制约束与模板**：
- ✅ 定义强制输出模板，不得偏离
- ✅ 单次输出不超过 40 行（从 30 行调整）
- ✅ 必须使用指定的 emoji 和格式
- ✅ 所有数值必须具体（对比度 4.5:1，而非"不足"）

**异常处理机制**：
- ✅ 信息不足：列出缺失项，停止执行
- ✅ 用户无响应：60 秒/120 秒超时处理
- ✅ 执行失败：说明原因，提供替代方案
- ✅ 用户回复不明确：重新列出选项

**输入验证（Stage 0）**：
- ✅ 明确识别输入类型（截图/URL/代码/描述）
- ✅ 收集必要上下文（功能/设备/用户群体）
- ✅ 异常场景处理（信息不足/描述模糊）

**质量标准强化**：
- ✅ 所有问题必须映射到设计原则
- ✅ 禁止主观审美判断
- ✅ 所有修复建议必须可执行
- ✅ 对比度、尺寸必须有具体数值

#### 删除内容 | Removed

- ❌ 移除概念性、抽象化的描述
- ❌ 移除冗长的示例对话
- ❌ 移除非执行性的"建议"内容
- ❌ 简化 Copilot 模式说明

#### Breaking Changes

- ⚠️ Prompt 结构完全重构，不向后兼容
- ⚠️ 输出格式更加严格，旧版本风格输出不再支持
- ⚠️ 自检机制强制执行，可能导致执行时间略有增加

#### 为什么是 2.0.0？

这是一次**架构级别的重构**，而非功能增量：
- 从"概念驱动"升级为"流程驱动"
- 从"灵活执行"升级为"严格模板"
- 从"隐式约束"升级为"显式自检"
- 适合长期作为自动化 Skill 稳定运行

**升级建议**：
建议所有用户升级到 2.0.0，以获得更稳定、更可预测的审查体验。

---

## [1.0.1] - 2026-02-06

### 🎉 改进 | Improved

**大幅优化互动体验**：
- ✅ 强化互动对话模式，严格禁止一次性输出所有问题
- ✅ 添加"核心原则"章节，明确互动规则
- ✅ 每次只展示一个问题，展示后立即停止并等待用户反馈
- ✅ 优化问题展示格式，减少单次输出长度（控制在约 30 行内）
- ✅ 增强选项式交互，让用户更清晰地控制审查节奏
- ✅ 更新示例对话，展示正确的逐步互动流程
- ✅ 改进总览展示：只显示问题标题列表，不展开详细内容

**解决的问题**：
- 修复用户反馈的"罗列一大串文字"的阅读体验问题
- 让 AI 真正像"设计顾问"而非"报告生成器"
- 显著提升用户控制感和交互流畅度

## [1.0.0] - 2026-02-06

### Added
- 初始发布
- 单次审查模式：系统化设计审查工作流
- Copilot 模式：持续监控设计决策
- 智能设计规范管理
- 互动对话式问题展示
- 可执行的修复方案生成
- 默认设计 token 体系
- 设计原则快速参考（HIG/Material/Nielsen/WCAG）
- 设计规范审查清单
- 完整的页面审查清单
- 跨平台支持（iOS/Android/Web）
- 无障碍性审查（WCAG 2.1/2.2）

### Features
- 支持截图、URL、自然语言描述等多种输入方式
- 自动询问和验证用户设计规范
- 优先级分级（严重/建议/次要）
- 代码修改建议和 CSS 示例
- 可选的代码自动修复
- 阶段性审查总结
- 设计决策辅助建议

[1.0.0]: https://github.com/Rocccccc-hub/ued-copilot/releases/tag/v1.0.0
